<!-- templates/atencion_clientes/cliente/menu_interactivo.html -->
{% extends 'base.html' %}
{% load static %}
{% block title %}Menú Interactivo{% endblock %}

{% block content %}
<h2>Menú de Productos</h2>

<form method="post" action="{% url 'enviar_pedido' %}">
    {% csrf_token %}
    <div style="display: flex; flex-wrap: wrap; gap: 20px;">
        {% for producto in productos %}
            <div style="border: 1px solid #ccc; padding: 15px; width: 250px;">
                {% if producto.url_imagen %}
                    <img src="{% static producto.url_imagen %}" alt="{{ producto.nombre }}" style="width: 100%; height: 150px; object-fit: cover;">
                {% else %}
                    <div style="width: 100%; height: 150px; background-color: #eee; display: flex; justify-content: center; align-items: center;">Sin imagen</div>
                {% endif %}
                
                <h3>{{ producto.nombre }}</h3>
                <p>{{ producto.descripcion }}</p>
                <p><strong>${{ producto.precio }}</strong></p>
                <label>Cantidad:
                    <input type="number" 
                           name="producto_{{ producto.id_producto_menu }}" 
                           min="0" 
                           value="0"
                           style="width: 60px; padding: 5px;">
                </label>
            </div>
        {% endfor %}
    </div>

    <div style="margin-top: 20px; display: flex; gap: 10px;">
        <button type="submit" name="action" value="ordenar" style="padding: 8px 15px; background-color: #4CAF50; color: white; border: none; cursor: pointer;">
            Enviar Pedido
        </button>
        <button type="submit" name="action" value="cancelar" style="padding: 8px 15px; background-color: #f44336; color: white; border: none; cursor: pointer;">
            Cancelar
        </button>
    </div>
</form>
{% endblock %}